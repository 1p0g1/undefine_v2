"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/leaderboard/all-time";
exports.ids = ["pages/api/leaderboard/all-time"];
exports.modules = {

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "zod":
/*!**********************!*\
  !*** external "zod" ***!
  \**********************/
/***/ ((module) => {

module.exports = import("zod");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fleaderboard%2Fall-time&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fleaderboard%2Fall-time.ts&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fleaderboard%2Fall-time&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fleaderboard%2Fall-time.ts&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_leaderboard_all_time_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/leaderboard/all-time.ts */ \"(api)/./pages/api/leaderboard/all-time.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_leaderboard_all_time_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_leaderboard_all_time_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_leaderboard_all_time_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_leaderboard_all_time_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/leaderboard/all-time\",\n        pathname: \"/api/leaderboard/all-time\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_leaderboard_all_time_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmxlYWRlcmJvYXJkJTJGYWxsLXRpbWUmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmFwaSUyRmxlYWRlcmJvYXJkJTJGYWxsLXRpbWUudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDZ0U7QUFDaEU7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLCtEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQywrREFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly91bmRlZmluZS12Mi8/OWM2MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL2xlYWRlcmJvYXJkL2FsbC10aW1lLnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvbGVhZGVyYm9hcmQvYWxsLXRpbWVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9sZWFkZXJib2FyZC9hbGwtdGltZVwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fleaderboard%2Fall-time&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fleaderboard%2Fall-time.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/leaderboard/all-time.ts":
/*!*******************************************!*\
  !*** ./pages/api/leaderboard/all-time.ts ***!
  \*******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _src_lib_supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../src/lib/supabase */ \"(api)/./src/lib/supabase.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_lib_supabase__WEBPACK_IMPORTED_MODULE_0__]);\n_src_lib_supabase__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nasync function handler(req, res) {\n    if (req.method !== \"GET\") {\n        return res.status(405).json({\n            success: false,\n            error: \"Method not allowed\"\n        });\n    }\n    try {\n        // Query to calculate all-time statistics from leaderboard_summary\n        const { data: allTimeData, error } = await _src_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.rpc(\"get_all_time_stats\");\n        if (error) {\n            console.error(\"[All-Time API] Database error:\", error);\n            return res.status(500).json({\n                success: false,\n                error: \"Database error\"\n            });\n        }\n        // If RPC doesn't exist yet, fall back to direct query\n        if (!allTimeData) {\n            const { data: rawData, error: directError } = await _src_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"leaderboard_summary\").select(`\n          player_id,\n          rank,\n          best_time,\n          guesses_used,\n          date,\n          players!inner(display_name)\n        `).order(\"date\", {\n                ascending: false\n            });\n            if (directError) {\n                console.error(\"[All-Time API] Direct query error:\", directError);\n                return res.status(500).json({\n                    success: false,\n                    error: \"Database query failed\"\n                });\n            }\n            // Calculate statistics from raw data\n            const playerStats = calculateAllTimeStats(rawData || []);\n            // Sort into different leaderboard categories\n            const topByWinRate = [\n                ...playerStats\n            ].filter((p)=>p.total_games >= 3) // Minimum games for meaningful win rate\n            .sort((a, b)=>b.win_percentage - a.win_percentage).slice(0, 10);\n            const topBySpeed = [\n                ...playerStats\n            ].filter((p)=>p.total_games >= 3).sort((a, b)=>a.average_time - b.average_time).slice(0, 10);\n            const topByConsistency = [\n                ...playerStats\n            ].filter((p)=>p.total_games >= 5).sort((a, b)=>a.average_guesses - b.average_guesses).slice(0, 10);\n            const topByGames = [\n                ...playerStats\n            ].sort((a, b)=>b.total_games - a.total_games).slice(0, 10);\n            const totalPlayers = playerStats.length;\n            const totalGames = playerStats.reduce((sum, p)=>sum + p.total_games, 0);\n            return res.status(200).json({\n                success: true,\n                data: {\n                    topByWinRate,\n                    topBySpeed,\n                    topByConsistency,\n                    topByGames,\n                    totalPlayers,\n                    totalGames\n                }\n            });\n        }\n        return res.status(200).json({\n            success: true,\n            data: allTimeData\n        });\n    } catch (error) {\n        console.error(\"[All-Time API] Unexpected error:\", error);\n        return res.status(500).json({\n            success: false,\n            error: \"Internal server error\"\n        });\n    }\n}\nfunction calculateAllTimeStats(rawData) {\n    const playerGroups = rawData.reduce((groups, row)=>{\n        const playerId = row.player_id;\n        if (!groups[playerId]) {\n            groups[playerId] = [];\n        }\n        groups[playerId].push(row);\n        return groups;\n    }, {});\n    return Object.entries(playerGroups).map(([playerId, games])=>{\n        const totalGames = games.length;\n        const totalWins = games.filter((g)=>g.rank === 1).length;\n        const winPercentage = totalGames > 0 ? totalWins / totalGames * 100 : 0;\n        const averageTime = games.reduce((sum, g)=>sum + (g.best_time || 0), 0) / totalGames;\n        const averageGuesses = games.reduce((sum, g)=>sum + (g.guesses_used || 0), 0) / totalGames;\n        const bestTimeEver = Math.min(...games.map((g)=>g.best_time || Infinity));\n        const totalTop10 = games.filter((g)=>g.rank <= 10).length;\n        const firstPlaces = totalWins;\n        const lastPlayed = games.sort((a, b)=>new Date(b.date).getTime() - new Date(a.date).getTime())[0]?.date || \"\";\n        const playerName = games[0]?.players?.display_name || `Player ${playerId.slice(-4)}`;\n        return {\n            player_id: playerId,\n            player_name: playerName,\n            total_games: totalGames,\n            total_wins: totalWins,\n            win_percentage: Math.round(winPercentage * 100) / 100,\n            average_time: Math.round(averageTime * 100) / 100,\n            average_guesses: Math.round(averageGuesses * 100) / 100,\n            best_time_ever: bestTimeEver === Infinity ? 0 : bestTimeEver,\n            total_top_10_finishes: totalTop10,\n            first_place_finishes: firstPlaces,\n            last_played: lastPlayed\n        };\n    });\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SSxJQUFJaEIsTUFBTTtRQUN6RCxNQUFNMkIsY0FBY2I7UUFFcEIsTUFBTWMsYUFBYWYsTUFBTXhCLElBQUksQ0FBQyxDQUFDQyxHQUFHQyxJQUNoQyxJQUFJc0MsS0FBS3RDLEVBQUV1QyxJQUFJLEVBQUVDLE9BQU8sS0FBSyxJQUFJRixLQUFLdkMsRUFBRXdDLElBQUksRUFBRUMsT0FBTyxHQUN0RCxDQUFDLEVBQUUsRUFBRUQsUUFBUTtRQUVkLE1BQU1FLGFBQWFuQixLQUFLLENBQUMsRUFBRSxFQUFFb0IsU0FBU0MsZ0JBQWdCLENBQUMsT0FBTyxFQUFFM0IsU0FBU2QsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDO1FBRXBGLE9BQU87WUFDTGUsV0FBV0Q7WUFDWDRCLGFBQWFIO1lBQ2I1QyxhQUFhYTtZQUNibUMsWUFBWXRCO1lBQ1p0QixnQkFBZ0IrQixLQUFLYyxLQUFLLENBQUNwQixnQkFBZ0IsT0FBTztZQUNsRHRCLGNBQWM0QixLQUFLYyxLQUFLLENBQUNuQixjQUFjLE9BQU87WUFDOUNyQixpQkFBaUIwQixLQUFLYyxLQUFLLENBQUNqQixpQkFBaUIsT0FBTztZQUNwRGtCLGdCQUFnQmhCLGlCQUFpQkcsV0FBVyxJQUFJSDtZQUNoRGlCLHVCQUF1QmI7WUFDdkJjLHNCQUFzQmI7WUFDdEJjLGFBQWFiO1FBQ2Y7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdW5kZWZpbmUtdjIvLi9wYWdlcy9hcGkvbGVhZGVyYm9hcmQvYWxsLXRpbWUudHM/MGQ3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCc7XG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJy4uLy4uLy4uL3NyYy9saWIvc3VwYWJhc2UnO1xuXG5pbnRlcmZhY2UgQWxsVGltZVN0YXRzIHtcbiAgcGxheWVyX2lkOiBzdHJpbmc7XG4gIHBsYXllcl9uYW1lOiBzdHJpbmc7XG4gIHRvdGFsX2dhbWVzOiBudW1iZXI7XG4gIHRvdGFsX3dpbnM6IG51bWJlcjtcbiAgd2luX3BlcmNlbnRhZ2U6IG51bWJlcjtcbiAgYXZlcmFnZV90aW1lOiBudW1iZXI7XG4gIGF2ZXJhZ2VfZ3Vlc3NlczogbnVtYmVyO1xuICBiZXN0X3RpbWVfZXZlcjogbnVtYmVyO1xuICB0b3RhbF90b3BfMTBfZmluaXNoZXM6IG51bWJlcjtcbiAgZmlyc3RfcGxhY2VfZmluaXNoZXM6IG51bWJlcjtcbiAgbGFzdF9wbGF5ZWQ6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIEdhbWVSb3cge1xuICBwbGF5ZXJfaWQ6IHN0cmluZztcbiAgcmFuazogbnVtYmVyO1xuICBiZXN0X3RpbWU6IG51bWJlcjtcbiAgZ3Vlc3Nlc191c2VkOiBudW1iZXI7XG4gIGRhdGU6IHN0cmluZztcbiAgcGxheWVycz86IHtcbiAgICBkaXNwbGF5X25hbWU6IHN0cmluZztcbiAgfTtcbn1cblxuaW50ZXJmYWNlIEFsbFRpbWVMZWFkZXJib2FyZFJlc3BvbnNlIHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgZGF0YT86IHtcbiAgICB0b3BCeVdpblJhdGU6IEFsbFRpbWVTdGF0c1tdO1xuICAgIHRvcEJ5U3BlZWQ6IEFsbFRpbWVTdGF0c1tdO1xuICAgIHRvcEJ5Q29uc2lzdGVuY3k6IEFsbFRpbWVTdGF0c1tdO1xuICAgIHRvcEJ5R2FtZXM6IEFsbFRpbWVTdGF0c1tdO1xuICAgIHRvdGFsUGxheWVyczogbnVtYmVyO1xuICAgIHRvdGFsR2FtZXM6IG51bWJlcjtcbiAgfTtcbiAgZXJyb3I/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIoXG4gIHJlcTogTmV4dEFwaVJlcXVlc3QsXG4gIHJlczogTmV4dEFwaVJlc3BvbnNlPEFsbFRpbWVMZWFkZXJib2FyZFJlc3BvbnNlPlxuKSB7XG4gIGlmIChyZXEubWV0aG9kICE9PSAnR0VUJykge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSk7XG4gIH1cblxuICB0cnkge1xuICAgIC8vIFF1ZXJ5IHRvIGNhbGN1bGF0ZSBhbGwtdGltZSBzdGF0aXN0aWNzIGZyb20gbGVhZGVyYm9hcmRfc3VtbWFyeVxuICAgIGNvbnN0IHsgZGF0YTogYWxsVGltZURhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5ycGMoJ2dldF9hbGxfdGltZV9zdGF0cycpO1xuICAgIFxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW0FsbC1UaW1lIEFQSV0gRGF0YWJhc2UgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRGF0YWJhc2UgZXJyb3InIH0pO1xuICAgIH1cblxuICAgIC8vIElmIFJQQyBkb2Vzbid0IGV4aXN0IHlldCwgZmFsbCBiYWNrIHRvIGRpcmVjdCBxdWVyeVxuICAgIGlmICghYWxsVGltZURhdGEpIHtcbiAgICAgIGNvbnN0IHsgZGF0YTogcmF3RGF0YSwgZXJyb3I6IGRpcmVjdEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnbGVhZGVyYm9hcmRfc3VtbWFyeScpXG4gICAgICAgIC5zZWxlY3QoYFxuICAgICAgICAgIHBsYXllcl9pZCxcbiAgICAgICAgICByYW5rLFxuICAgICAgICAgIGJlc3RfdGltZSxcbiAgICAgICAgICBndWVzc2VzX3VzZWQsXG4gICAgICAgICAgZGF0ZSxcbiAgICAgICAgICBwbGF5ZXJzIWlubmVyKGRpc3BsYXlfbmFtZSlcbiAgICAgICAgYClcbiAgICAgICAgLm9yZGVyKCdkYXRlJywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xuXG4gICAgICBpZiAoZGlyZWN0RXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW0FsbC1UaW1lIEFQSV0gRGlyZWN0IHF1ZXJ5IGVycm9yOicsIGRpcmVjdEVycm9yKTtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRGF0YWJhc2UgcXVlcnkgZmFpbGVkJyB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2FsY3VsYXRlIHN0YXRpc3RpY3MgZnJvbSByYXcgZGF0YVxuICAgICAgY29uc3QgcGxheWVyU3RhdHMgPSBjYWxjdWxhdGVBbGxUaW1lU3RhdHMoKHJhd0RhdGEgYXMgdW5rbm93biBhcyBHYW1lUm93W10pIHx8IFtdKTtcbiAgICAgIFxuICAgICAgLy8gU29ydCBpbnRvIGRpZmZlcmVudCBsZWFkZXJib2FyZCBjYXRlZ29yaWVzXG4gICAgICBjb25zdCB0b3BCeVdpblJhdGUgPSBbLi4ucGxheWVyU3RhdHNdXG4gICAgICAgIC5maWx0ZXIocCA9PiBwLnRvdGFsX2dhbWVzID49IDMpIC8vIE1pbmltdW0gZ2FtZXMgZm9yIG1lYW5pbmdmdWwgd2luIHJhdGVcbiAgICAgICAgLnNvcnQoKGEsIGIpID0+IGIud2luX3BlcmNlbnRhZ2UgLSBhLndpbl9wZXJjZW50YWdlKVxuICAgICAgICAuc2xpY2UoMCwgMTApO1xuXG4gICAgICBjb25zdCB0b3BCeVNwZWVkID0gWy4uLnBsYXllclN0YXRzXVxuICAgICAgICAuZmlsdGVyKHAgPT4gcC50b3RhbF9nYW1lcyA+PSAzKVxuICAgICAgICAuc29ydCgoYSwgYikgPT4gYS5hdmVyYWdlX3RpbWUgLSBiLmF2ZXJhZ2VfdGltZSlcbiAgICAgICAgLnNsaWNlKDAsIDEwKTtcblxuICAgICAgY29uc3QgdG9wQnlDb25zaXN0ZW5jeSA9IFsuLi5wbGF5ZXJTdGF0c11cbiAgICAgICAgLmZpbHRlcihwID0+IHAudG90YWxfZ2FtZXMgPj0gNSlcbiAgICAgICAgLnNvcnQoKGEsIGIpID0+IGEuYXZlcmFnZV9ndWVzc2VzIC0gYi5hdmVyYWdlX2d1ZXNzZXMpXG4gICAgICAgIC5zbGljZSgwLCAxMCk7XG5cbiAgICAgIGNvbnN0IHRvcEJ5R2FtZXMgPSBbLi4ucGxheWVyU3RhdHNdXG4gICAgICAgIC5zb3J0KChhLCBiKSA9PiBiLnRvdGFsX2dhbWVzIC0gYS50b3RhbF9nYW1lcylcbiAgICAgICAgLnNsaWNlKDAsIDEwKTtcblxuICAgICAgY29uc3QgdG90YWxQbGF5ZXJzID0gcGxheWVyU3RhdHMubGVuZ3RoO1xuICAgICAgY29uc3QgdG90YWxHYW1lcyA9IHBsYXllclN0YXRzLnJlZHVjZSgoc3VtLCBwKSA9PiBzdW0gKyBwLnRvdGFsX2dhbWVzLCAwKTtcblxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHRvcEJ5V2luUmF0ZSxcbiAgICAgICAgICB0b3BCeVNwZWVkLFxuICAgICAgICAgIHRvcEJ5Q29uc2lzdGVuY3ksXG4gICAgICAgICAgdG9wQnlHYW1lcyxcbiAgICAgICAgICB0b3RhbFBsYXllcnMsXG4gICAgICAgICAgdG90YWxHYW1lc1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBhbGxUaW1lRGF0YSB9KTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1tBbGwtVGltZSBBUEldIFVuZXhwZWN0ZWQgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IFxuICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIFxuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZUFsbFRpbWVTdGF0cyhyYXdEYXRhOiBHYW1lUm93W10pOiBBbGxUaW1lU3RhdHNbXSB7XG4gIGNvbnN0IHBsYXllckdyb3VwcyA9IHJhd0RhdGEucmVkdWNlKChncm91cHMsIHJvdykgPT4ge1xuICAgIGNvbnN0IHBsYXllcklkID0gcm93LnBsYXllcl9pZDtcbiAgICBpZiAoIWdyb3Vwc1twbGF5ZXJJZF0pIHtcbiAgICAgIGdyb3Vwc1twbGF5ZXJJZF0gPSBbXTtcbiAgICB9XG4gICAgZ3JvdXBzW3BsYXllcklkXS5wdXNoKHJvdyk7XG4gICAgcmV0dXJuIGdyb3VwcztcbiAgfSwge30gYXMgUmVjb3JkPHN0cmluZywgR2FtZVJvd1tdPik7XG5cbiAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHBsYXllckdyb3VwcykubWFwKChbcGxheWVySWQsIGdhbWVzXSkgPT4ge1xuICAgIGNvbnN0IHRvdGFsR2FtZXMgPSBnYW1lcy5sZW5ndGg7XG4gICAgY29uc3QgdG90YWxXaW5zID0gZ2FtZXMuZmlsdGVyKGcgPT4gZy5yYW5rID09PSAxKS5sZW5ndGg7XG4gICAgY29uc3Qgd2luUGVyY2VudGFnZSA9IHRvdGFsR2FtZXMgPiAwID8gKHRvdGFsV2lucyAvIHRvdGFsR2FtZXMpICogMTAwIDogMDtcbiAgICBcbiAgICBjb25zdCBhdmVyYWdlVGltZSA9IGdhbWVzLnJlZHVjZSgoc3VtLCBnKSA9PiBzdW0gKyAoZy5iZXN0X3RpbWUgfHwgMCksIDApIC8gdG90YWxHYW1lcztcbiAgICBjb25zdCBhdmVyYWdlR3Vlc3NlcyA9IGdhbWVzLnJlZHVjZSgoc3VtLCBnKSA9PiBzdW0gKyAoZy5ndWVzc2VzX3VzZWQgfHwgMCksIDApIC8gdG90YWxHYW1lcztcbiAgICBjb25zdCBiZXN0VGltZUV2ZXIgPSBNYXRoLm1pbiguLi5nYW1lcy5tYXAoZyA9PiBnLmJlc3RfdGltZSB8fCBJbmZpbml0eSkpO1xuICAgIFxuICAgIGNvbnN0IHRvdGFsVG9wMTAgPSBnYW1lcy5maWx0ZXIoZyA9PiBnLnJhbmsgPD0gMTApLmxlbmd0aDtcbiAgICBjb25zdCBmaXJzdFBsYWNlcyA9IHRvdGFsV2lucztcbiAgICBcbiAgICBjb25zdCBsYXN0UGxheWVkID0gZ2FtZXMuc29ydCgoYSwgYikgPT4gXG4gICAgICBuZXcgRGF0ZShiLmRhdGUpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGEuZGF0ZSkuZ2V0VGltZSgpXG4gICAgKVswXT8uZGF0ZSB8fCAnJztcblxuICAgIGNvbnN0IHBsYXllck5hbWUgPSBnYW1lc1swXT8ucGxheWVycz8uZGlzcGxheV9uYW1lIHx8IGBQbGF5ZXIgJHtwbGF5ZXJJZC5zbGljZSgtNCl9YDtcblxuICAgIHJldHVybiB7XG4gICAgICBwbGF5ZXJfaWQ6IHBsYXllcklkLFxuICAgICAgcGxheWVyX25hbWU6IHBsYXllck5hbWUsXG4gICAgICB0b3RhbF9nYW1lczogdG90YWxHYW1lcyxcbiAgICAgIHRvdGFsX3dpbnM6IHRvdGFsV2lucyxcbiAgICAgIHdpbl9wZXJjZW50YWdlOiBNYXRoLnJvdW5kKHdpblBlcmNlbnRhZ2UgKiAxMDApIC8gMTAwLFxuICAgICAgYXZlcmFnZV90aW1lOiBNYXRoLnJvdW5kKGF2ZXJhZ2VUaW1lICogMTAwKSAvIDEwMCxcbiAgICAgIGF2ZXJhZ2VfZ3Vlc3NlczogTWF0aC5yb3VuZChhdmVyYWdlR3Vlc3NlcyAqIDEwMCkgLyAxMDAsXG4gICAgICBiZXN0X3RpbWVfZXZlcjogYmVzdFRpbWVFdmVyID09PSBJbmZpbml0eSA/IDAgOiBiZXN0VGltZUV2ZXIsXG4gICAgICB0b3RhbF90b3BfMTBfZmluaXNoZXM6IHRvdGFsVG9wMTAsXG4gICAgICBmaXJzdF9wbGFjZV9maW5pc2hlczogZmlyc3RQbGFjZXMsXG4gICAgICBsYXN0X3BsYXllZDogbGFzdFBsYXllZFxuICAgIH07XG4gIH0pO1xufSAiXSwibmFtZXMiOlsic3VwYWJhc2UiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsInN1Y2Nlc3MiLCJlcnJvciIsImRhdGEiLCJhbGxUaW1lRGF0YSIsInJwYyIsImNvbnNvbGUiLCJyYXdEYXRhIiwiZGlyZWN0RXJyb3IiLCJmcm9tIiwic2VsZWN0Iiwib3JkZXIiLCJhc2NlbmRpbmciLCJwbGF5ZXJTdGF0cyIsImNhbGN1bGF0ZUFsbFRpbWVTdGF0cyIsInRvcEJ5V2luUmF0ZSIsImZpbHRlciIsInAiLCJ0b3RhbF9nYW1lcyIsInNvcnQiLCJhIiwiYiIsIndpbl9wZXJjZW50YWdlIiwic2xpY2UiLCJ0b3BCeVNwZWVkIiwiYXZlcmFnZV90aW1lIiwidG9wQnlDb25zaXN0ZW5jeSIsImF2ZXJhZ2VfZ3Vlc3NlcyIsInRvcEJ5R2FtZXMiLCJ0b3RhbFBsYXllcnMiLCJsZW5ndGgiLCJ0b3RhbEdhbWVzIiwicmVkdWNlIiwic3VtIiwicGxheWVyR3JvdXBzIiwiZ3JvdXBzIiwicm93IiwicGxheWVySWQiLCJwbGF5ZXJfaWQiLCJwdXNoIiwiT2JqZWN0IiwiZW50cmllcyIsIm1hcCIsImdhbWVzIiwidG90YWxXaW5zIiwiZyIsInJhbmsiLCJ3aW5QZXJjZW50YWdlIiwiYXZlcmFnZVRpbWUiLCJiZXN0X3RpbWUiLCJhdmVyYWdlR3Vlc3NlcyIsImd1ZXNzZXNfdXNlZCIsImJlc3RUaW1lRXZlciIsIk1hdGgiLCJtaW4iLCJJbmZpbml0eSIsInRvdGFsVG9wMTAiLCJmaXJzdFBsYWNlcyIsImxhc3RQbGF5ZWQiLCJEYXRlIiwiZGF0ZSIsImdldFRpbWUiLCJwbGF5ZXJOYW1lIiwicGxheWVycyIsImRpc3BsYXlfbmFtZSIsInBsYXllcl9uYW1lIiwidG90YWxfd2lucyIsInJvdW5kIiwiYmVzdF90aW1lX2V2ZXIiLCJ0b3RhbF90b3BfMTBfZmluaXNoZXMiLCJmaXJzdF9wbGFjZV9maW5pc2hlcyIsImxhc3RfcGxheWVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/leaderboard/all-time.ts\n");

/***/ }),

/***/ "(api)/./src/env.server.ts":
/*!***************************!*\
  !*** ./src/env.server.ts ***!
  \***************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   env: () => (/* binding */ env)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"zod\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([zod__WEBPACK_IMPORTED_MODULE_0__]);\nzod__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n/**\n * DO NOT IMPORT THIS FILE IN FRONTEND CODE\n * This file includes secrets and only works with process.env\n */ \nconst serverEnvSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    // Required variables\n    SUPABASE_URL: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().url(),\n    SUPABASE_SERVICE_ROLE_KEY: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    SUPABASE_ANON_KEY: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    DB_PROVIDER: zod__WEBPACK_IMPORTED_MODULE_0__.z.literal(\"supabase\"),\n    NODE_ENV: zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([\n        \"development\",\n        \"production\"\n    ]).default(\"production\"),\n    // Optional variables with defaults\n    PORT: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().transform(Number).default(\"3001\"),\n    FRONTEND_URL: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().url().default(\"http://localhost:5173\")\n});\n// Parse environment variables\nconst parsedEnv = serverEnvSchema.safeParse({\n    SUPABASE_URL: process.env.SUPABASE_URL,\n    SUPABASE_SERVICE_ROLE_KEY: \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVhY2xsand2c2ljZXpta2pubGJtIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0NDAyOTc3MiwiZXhwIjoyMDU5NjA1NzcyfQ.qAwl1_vgAK8qMv44dOWPoZ6u_w5PqwGEdRmOgXeKJbY\",\n    SUPABASE_ANON_KEY: process.env.SUPABASE_ANON_KEY,\n    DB_PROVIDER: process.env.DB_PROVIDER,\n    NODE_ENV: \"development\",\n    PORT: process.env.PORT,\n    FRONTEND_URL: process.env.FRONTEND_URL\n});\nif (!parsedEnv.success) {\n    console.error(\"âŒ Invalid environment variables:\\n\", Object.entries(parsedEnv.error.flatten().fieldErrors).map(([k, v])=>`${k}: ${v?.join(\", \")}`).join(\"\\n\"));\n    throw new Error(\"Invalid environment variables\");\n}\nconst env = parsedEnv.data;\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvZW52LnNlcnZlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7Q0FHQyxHQUV1QjtBQUV4QixNQUFNQyxrQkFBa0JELGtDQUFDQSxDQUFDRSxNQUFNLENBQUM7SUFDL0IscUJBQXFCO0lBQ3JCQyxjQUFjSCxrQ0FBQ0EsQ0FBQ0ksTUFBTSxHQUFHQyxHQUFHO0lBQzVCQywyQkFBMkJOLGtDQUFDQSxDQUFDSSxNQUFNO0lBQ25DRyxtQkFBbUJQLGtDQUFDQSxDQUFDSSxNQUFNO0lBQzNCSSxhQUFhUixrQ0FBQ0EsQ0FBQ1MsT0FBTyxDQUFDO0lBQ3ZCQyxVQUFVVixrQ0FBQ0EsQ0FBQ1csSUFBSSxDQUFDO1FBQUM7UUFBZTtLQUFhLEVBQUVDLE9BQU8sQ0FBQztJQUV4RCxtQ0FBbUM7SUFDbkNDLE1BQU1iLGtDQUFDQSxDQUFDSSxNQUFNLEdBQUdVLFNBQVMsQ0FBQ0MsUUFBUUgsT0FBTyxDQUFDO0lBQzNDSSxjQUFjaEIsa0NBQUNBLENBQUNJLE1BQU0sR0FBR0MsR0FBRyxHQUFHTyxPQUFPLENBQUM7QUFDekM7QUFFQSw4QkFBOEI7QUFDOUIsTUFBTUssWUFBWWhCLGdCQUFnQmlCLFNBQVMsQ0FBQztJQUMxQ2YsY0FBY2dCLFFBQVFDLEdBQUcsQ0FBQ2pCLFlBQVk7SUFDdENHLDJCQUEyQmEsNk5BQXFDO0lBQ2hFWixtQkFBbUJZLFFBQVFDLEdBQUcsQ0FBQ2IsaUJBQWlCO0lBQ2hEQyxhQUFhVyxRQUFRQyxHQUFHLENBQUNaLFdBQVc7SUFDcENFLFVBMUJGO0lBMkJFRyxNQUFNTSxRQUFRQyxHQUFHLENBQUNQLElBQUk7SUFDdEJHLGNBQWNHLFFBQVFDLEdBQUcsQ0FBQ0osWUFBWTtBQUN4QztBQUVBLElBQUksQ0FBQ0MsVUFBVUksT0FBTyxFQUFFO0lBQ3RCQyxRQUFRQyxLQUFLLENBQ1gsc0NBQ0FDLE9BQU9DLE9BQU8sQ0FBQ1IsVUFBVU0sS0FBSyxDQUFDRyxPQUFPLEdBQUdDLFdBQVcsRUFBRUMsR0FBRyxDQUFDLENBQUMsQ0FBQ0MsR0FBR0MsRUFBRSxHQUFLLENBQUMsRUFBRUQsRUFBRSxFQUFFLEVBQUVDLEdBQUdDLEtBQUssTUFBTSxDQUFDLEVBQUVBLElBQUksQ0FBQztJQUV2RyxNQUFNLElBQUlDLE1BQU07QUFDbEI7QUFFTyxNQUFNWixNQUFNSCxVQUFVZ0IsSUFBSSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdW5kZWZpbmUtdjIvLi9zcmMvZW52LnNlcnZlci50cz9kOWFmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRE8gTk9UIElNUE9SVCBUSElTIEZJTEUgSU4gRlJPTlRFTkQgQ09ERVxuICogVGhpcyBmaWxlIGluY2x1ZGVzIHNlY3JldHMgYW5kIG9ubHkgd29ya3Mgd2l0aCBwcm9jZXNzLmVudlxuICovXG5cbmltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuXG5jb25zdCBzZXJ2ZXJFbnZTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIC8vIFJlcXVpcmVkIHZhcmlhYmxlc1xuICBTVVBBQkFTRV9VUkw6IHouc3RyaW5nKCkudXJsKCksXG4gIFNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVk6IHouc3RyaW5nKCksXG4gIFNVUEFCQVNFX0FOT05fS0VZOiB6LnN0cmluZygpLFxuICBEQl9QUk9WSURFUjogei5saXRlcmFsKCdzdXBhYmFzZScpLCAgLy8gTXVzdCBiZSAnc3VwYWJhc2UnIGluIHByb2R1Y3Rpb25cbiAgTk9ERV9FTlY6IHouZW51bShbJ2RldmVsb3BtZW50JywgJ3Byb2R1Y3Rpb24nXSkuZGVmYXVsdCgncHJvZHVjdGlvbicpLCAgLy8gRGVmYXVsdCB0byBwcm9kdWN0aW9uXG4gIFxuICAvLyBPcHRpb25hbCB2YXJpYWJsZXMgd2l0aCBkZWZhdWx0c1xuICBQT1JUOiB6LnN0cmluZygpLnRyYW5zZm9ybShOdW1iZXIpLmRlZmF1bHQoJzMwMDEnKSxcbiAgRlJPTlRFTkRfVVJMOiB6LnN0cmluZygpLnVybCgpLmRlZmF1bHQoJ2h0dHA6Ly9sb2NhbGhvc3Q6NTE3MycpLFxufSk7XG5cbi8vIFBhcnNlIGVudmlyb25tZW50IHZhcmlhYmxlc1xuY29uc3QgcGFyc2VkRW52ID0gc2VydmVyRW52U2NoZW1hLnNhZmVQYXJzZSh7XG4gIFNVUEFCQVNFX1VSTDogcHJvY2Vzcy5lbnYuU1VQQUJBU0VfVVJMLFxuICBTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZOiBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZLFxuICBTVVBBQkFTRV9BTk9OX0tFWTogcHJvY2Vzcy5lbnYuU1VQQUJBU0VfQU5PTl9LRVksXG4gIERCX1BST1ZJREVSOiBwcm9jZXNzLmVudi5EQl9QUk9WSURFUixcbiAgTk9ERV9FTlY6IHByb2Nlc3MuZW52Lk5PREVfRU5WLFxuICBQT1JUOiBwcm9jZXNzLmVudi5QT1JULFxuICBGUk9OVEVORF9VUkw6IHByb2Nlc3MuZW52LkZST05URU5EX1VSTCxcbn0pO1xuXG5pZiAoIXBhcnNlZEVudi5zdWNjZXNzKSB7XG4gIGNvbnNvbGUuZXJyb3IoXG4gICAgJ+KdjCBJbnZhbGlkIGVudmlyb25tZW50IHZhcmlhYmxlczpcXG4nLFxuICAgIE9iamVjdC5lbnRyaWVzKHBhcnNlZEVudi5lcnJvci5mbGF0dGVuKCkuZmllbGRFcnJvcnMpLm1hcCgoW2ssIHZdKSA9PiBgJHtrfTogJHt2Py5qb2luKCcsICcpfWApLmpvaW4oJ1xcbicpXG4gICk7XG4gIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBlbnZpcm9ubWVudCB2YXJpYWJsZXMnKTtcbn1cblxuZXhwb3J0IGNvbnN0IGVudiA9IHBhcnNlZEVudi5kYXRhOyAiXSwibmFtZXMiOlsieiIsInNlcnZlckVudlNjaGVtYSIsIm9iamVjdCIsIlNVUEFCQVNFX1VSTCIsInN0cmluZyIsInVybCIsIlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkiLCJTVVBBQkFTRV9BTk9OX0tFWSIsIkRCX1BST1ZJREVSIiwibGl0ZXJhbCIsIk5PREVfRU5WIiwiZW51bSIsImRlZmF1bHQiLCJQT1JUIiwidHJhbnNmb3JtIiwiTnVtYmVyIiwiRlJPTlRFTkRfVVJMIiwicGFyc2VkRW52Iiwic2FmZVBhcnNlIiwicHJvY2VzcyIsImVudiIsInN1Y2Nlc3MiLCJjb25zb2xlIiwiZXJyb3IiLCJPYmplY3QiLCJlbnRyaWVzIiwiZmxhdHRlbiIsImZpZWxkRXJyb3JzIiwibWFwIiwiayIsInYiLCJqb2luIiwiRXJyb3IiLCJkYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/env.server.ts\n");

/***/ }),

/***/ "(api)/./src/lib/supabase.ts":
/*!*****************************!*\
  !*** ./src/lib/supabase.ts ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _env_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../env.server */ \"(api)/./src/env.server.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_env_server__WEBPACK_IMPORTED_MODULE_1__]);\n_env_server__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n// Create Supabase client with service role key for admin-level operations\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(_env_server__WEBPACK_IMPORTED_MODULE_1__.env.SUPABASE_URL, _env_server__WEBPACK_IMPORTED_MODULE_1__.env.SUPABASE_SERVICE_ROLE_KEY);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGliL3N1cGFiYXNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBcUQ7QUFDakI7QUFFcEMsMEVBQTBFO0FBQ25FLE1BQU1FLFdBQVdGLG1FQUFZQSxDQUFDQyw0Q0FBR0EsQ0FBQ0UsWUFBWSxFQUFFRiw0Q0FBR0EsQ0FBQ0cseUJBQXlCLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly91bmRlZmluZS12Mi8uL3NyYy9saWIvc3VwYWJhc2UudHM/MDZlMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xuaW1wb3J0IHsgZW52IH0gZnJvbSAnLi4vZW52LnNlcnZlcic7XG5cbi8vIENyZWF0ZSBTdXBhYmFzZSBjbGllbnQgd2l0aCBzZXJ2aWNlIHJvbGUga2V5IGZvciBhZG1pbi1sZXZlbCBvcGVyYXRpb25zXG5leHBvcnQgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoZW52LlNVUEFCQVNFX1VSTCwgZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkpOyAiXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50IiwiZW52Iiwic3VwYWJhc2UiLCJTVVBBQkFTRV9VUkwiLCJTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/lib/supabase.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fleaderboard%2Fall-time&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fleaderboard%2Fall-time.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();