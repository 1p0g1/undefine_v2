"use strict";(()=>{var e={};e.id=9,e.ids=[9],e.modules={2885:e=>{e.exports=require("@supabase/supabase-js")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},9926:e=>{e.exports=import("zod")},4807:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>d,default:()=>u,routeModule:()=>p});var a=r(1802),o=r(7153),i=r(6249),n=r(427),l=e([n]);n=(l.then?(await l)():l)[0];let u=(0,i.l)(n,"default"),d=(0,i.l)(n,"config"),p=new a.PagesAPIRouteModule({definition:{kind:o.x.PAGES_API,page:"/api/theme-stats",pathname:"/api/theme-stats",bundlePath:"",filename:""},userland:n});s()}catch(e){s(e)}})},427:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>p});var a=r(2885),o=r(9085),i=r(7274),n=r(4229),l=e([o,n]);[o,n]=l.then?(await l)():l;let d=(0,a.createClient)(o.O.SUPABASE_URL,o.O.SUPABASE_SERVICE_ROLE_KEY);async function u(e,t){if("GET"!==e.method)return t.status(405).json({error:"Method not allowed"});try{let{player_id:r}=e.query;if(!r||"string"!=typeof r)return t.status(400).json({error:"player_id is required"});console.log("[/api/theme-stats] Getting theme statistics for player:",r);let{data:s,error:a}=await d.from("game_sessions").select("is_won").eq("player_id",r);if(a)return console.error("[/api/theme-stats] Error getting player games:",a),t.status(404).json({error:"Player not found"});let o=await (0,n.Ry)(r);return console.log("[/api/theme-stats] Theme statistics retrieved:",o),t.status(200).json(o)}catch(e){return console.error("[/api/theme-stats] Unexpected error:",e),t.status(500).json({error:"Internal server error"})}}let p=(0,i.o)(u);s()}catch(e){s(e)}})}};var t=require("../../webpack-api-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[58],()=>r(4807));module.exports=s})();