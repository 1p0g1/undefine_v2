"use strict";exports.id=367,exports.ids=[367],exports.modules={9367:(e,t,r)=>{async function o(e,t){let r=process.env.HF_API_KEY;if(!r)return console.error("HF_API_KEY environment variable not set"),0;let n=`What connects this week's words? ${e.toLowerCase().trim()}`,s=`What connects this week's words? ${t.toLowerCase().trim()}`;try{let i=await fetch("https://router.huggingface.co/hf-inference/models/sentence-transformers/all-MiniLM-L6-v2",{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({inputs:{source_sentence:n,sentences:[s]}})});if(!i.ok){if(503===i.status)return console.warn("HF model loading, retrying in 5 seconds..."),await new Promise(e=>setTimeout(e,5e3)),o(e,t);let r=await i.text();throw console.error(`HF API Error: ${i.status} - ${r}`),Error(`HF API Error: ${i.status}`)}let a=await i.json();return console.log(`[Theme Matching] "${e}" â†’ "${t}": ${Math.round(100*(a[0]||0))}% (Phase 1.5: implicit connection framing)`),a[0]||0}catch(e){return console.error("Contextual semantic similarity error:",e),0}}async function n(e,t){if(e.toLowerCase().trim()===t.toLowerCase().trim())return{similarity:1,isMatch:!0,method:"exact",confidence:100};try{let r=await o(e,t);return await s("theme"),{similarity:r,isMatch:r>=.78,method:"semantic",confidence:Math.round(100*r)}}catch(e){return{similarity:0,isMatch:!1,method:"error",confidence:0,error:e instanceof Error?e.message:"Unknown error"}}}async function s(e){try{console.log(`[Semantic API] ${e} matching request at ${new Date().toISOString()}`)}catch(e){console.error("Usage logging error:",e)}}r.d(t,{matchThemeWithFuzzy:()=>n})}};